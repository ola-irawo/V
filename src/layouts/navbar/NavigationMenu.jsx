import React from 'react'
import "./navigation-menu.css"
import { NavLink, Outlet, useLocation } from 'react-router-dom'
// import homeIcon from "./assets/svgs/home.svg"
import societiesIcon from "./assets/svgs/societies.svg"
import messageIcon from "./assets/svgs/message.svg"
import notificationIcon from "./assets/svgs/notification.svg"
import bookmarkIcon from "./assets/svgs/bookmark.svg"
import profileIcon from "./assets/svgs/profileIcon.svg"
import settingsIcon from "./assets/svgs/settingsIcon.svg"
import loginIcon from "./assets/svgs/loginIcon.svg"
import BrandLogo from '../../components/brandLogo/BrandLogo'
import useWindowWidth from '../../hooks/useWindowWidth'
import { Logout, brandLogo } from '../../features/authentication'
import Topbar from '../topbar/Topbar'
import { getCurrentUser } from '../../libs/getCurrentUser'
import PageHeader from '../../components/pageHeader/PageHeader'

const NavigationMenu = () => {
    const {screenWidth} = useWindowWidth()
    const location = useLocation()
    const currentUser = getCurrentUser()

    const isMobile = screenWidth <= 767
    const isDesktop = screenWidth >= 1306
    
  return (
    <div className="app-container">
    <nav className="primary-navigation" aria-label="Primary Navigation - Explore various sections" role="navigation" typeof="schema:SiteNavigationElement">
       {!isMobile && <BrandLogo />}

      <ul className="nav-list">
        <li className="nav-list-item">
            <NavLink to={"/"}>
              <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0 0 48 48" fill="none" stroke='black'>
                <path d="M39.5,43h-9c-1.381,0-2.5-1.119-2.5-2.5v-9c0-1.105-0.895-2-2-2h-4c-1.105,0-2,0.895-2,2v9c0,1.381-1.119,2.5-2.5,2.5h-9	C7.119,43,6,41.881,6,40.5V21.413c0-2.299,1.054-4.471,2.859-5.893L23.071,4.321c0.545-0.428,1.313-0.428,1.857,0L39.142,15.52	C40.947,16.942,42,19.113,42,21.411V40.5C42,41.881,40.881,43,39.5,43z"></path>
              </svg>

              {/* <img src={homeIcon} alt="A home icon representing the home page" /> */}
              {isDesktop && <p className="slide-in">Home</p>}
            </NavLink>
        </li>
        <li className="nav-list-item">
            <NavLink to={"/societies"}>
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="black">
                <path d="M3.42857 3.43767C3.42857 2.52876 3.78979 1.65708 4.43278 1.01438C5.07576 0.371681 5.94783 0.0106171 6.85714 0.0106171C7.76646 0.0106171 8.63853 0.371681 9.28151 1.01438C9.92449 1.65708 10.2857 2.52876 10.2857 3.43767C10.2857 4.34658 9.92449 5.21827 9.28151 5.86097C8.63853 6.50366 7.76646 6.86473 6.85714 6.86473C5.94783 6.86473 5.07576 6.50366 4.43278 5.86097C3.78979 5.21827 3.42857 4.34658 3.42857 3.43767ZM6.85714 1.72414C6.40249 1.72414 5.96645 1.90468 5.64496 2.22602C5.32347 2.54737 5.14286 2.98322 5.14286 3.43767C5.14286 3.89213 5.32347 4.32797 5.64496 4.64932C5.96645 4.97067 6.40249 5.1512 6.85714 5.1512C7.3118 5.1512 7.74783 4.97067 8.06933 4.64932C8.39082 4.32797 8.57143 3.89213 8.57143 3.43767C8.57143 2.98322 8.39082 2.54737 8.06933 2.22602C7.74783 1.90468 7.3118 1.72414 6.85714 1.72414ZM15.0497 6.1519C14.6906 5.87807 14.3891 5.53599 14.1626 5.14534C13.9361 4.75468 13.7891 4.32314 13.73 3.87551C13.6709 3.42788 13.7008 2.97299 13.8182 2.53697C13.9355 2.10096 14.1378 1.69241 14.4136 1.33481C14.6894 0.97721 15.0331 0.677604 15.4251 0.453207C15.8171 0.228811 16.2496 0.0840481 16.6977 0.0272368C17.1458 -0.0295744 17.6007 0.00268568 18.0363 0.122164C18.472 0.241642 18.8796 0.445983 19.236 0.723444C19.9376 1.28446 20.3909 2.09837 20.4983 2.99005C20.6057 3.88172 20.3586 4.7799 19.8102 5.49133C19.2618 6.20275 18.4559 6.67056 17.5659 6.7941C16.6759 6.91764 15.7713 6.68703 15.0497 6.1519ZM17.1429 1.72414C16.6882 1.72414 16.2522 1.90468 15.9307 2.22602C15.6092 2.54737 15.4286 2.98322 15.4286 3.43767C15.4286 3.89213 15.6092 4.32797 15.9307 4.64932C16.2522 4.97067 16.6882 5.1512 17.1429 5.1512C17.5975 5.1512 18.0335 4.97067 18.355 4.64932C18.6765 4.32797 18.8571 3.89213 18.8571 3.43767C18.8571 2.98322 18.6765 2.54737 18.355 2.22602C18.0335 1.90468 17.5975 1.72414 17.1429 1.72414ZM2.57143 8.57825H7.14857C6.96 9.11459 6.85714 9.69205 6.85714 10.2918H2.57143C2.3441 10.2918 2.12608 10.382 1.96534 10.5427C1.80459 10.7034 1.71429 10.9213 1.71429 11.1485C1.71429 12.5485 2.27143 13.5869 3.15086 14.2929C3.55543 14.6184 4.04057 14.8806 4.58914 15.0725C4.1863 15.5005 3.87586 16.0068 3.67714 16.5599C3.10171 16.3288 2.56294 16.0154 2.07771 15.6294C0.788571 14.5927 0 13.0608 0 11.1485C0 10.4669 0.270918 9.8131 0.753154 9.33107C1.23539 8.84905 1.88944 8.57825 2.57143 8.57825ZM9.03086 8.57825C8.5762 9.36583 8.45317 10.3017 8.68882 11.1799C8.92447 12.0582 9.49951 12.8069 10.2874 13.2613C11.0753 13.7158 12.0116 13.8388 12.8902 13.6032C13.7689 13.3677 14.5179 12.7929 14.9726 12.0053C15.4272 11.2177 15.5503 10.2819 15.3146 9.40364C15.079 8.5254 14.5039 7.77669 13.716 7.32224C12.9281 6.86778 11.9918 6.7448 11.1132 6.98035C10.2345 7.2159 9.48551 7.79068 9.03086 8.57825ZM11.616 8.62109C11.8672 8.56438 12.1279 8.56478 12.3789 8.62226C12.6299 8.67975 12.8648 8.79285 13.0662 8.95322C13.2676 9.11358 13.4304 9.31712 13.5426 9.5488C13.6547 9.78049 13.7134 10.0344 13.7143 10.2918C13.7142 10.6142 13.623 10.93 13.4514 11.203C13.2797 11.4759 13.0345 11.695 12.7439 11.8349C12.4533 11.9748 12.1291 12.0299 11.8086 11.9939C11.4881 11.9579 11.1842 11.8322 10.9319 11.6314C10.6796 11.4305 10.4891 11.1625 10.3824 10.8583C10.2756 10.5541 10.2569 10.2259 10.3283 9.91151C10.3997 9.59711 10.5585 9.30924 10.7863 9.08098C11.0141 8.85271 11.3016 8.69331 11.616 8.62109ZM20.8491 14.2929C20.4446 14.6184 19.9594 14.8806 19.4109 15.0725C19.8131 15.5007 20.1229 16.007 20.3211 16.5599C20.904 16.3217 21.444 16.0115 21.9223 15.6294C23.2114 14.5927 24 13.0608 24 11.1485C24 10.4669 23.7291 9.8131 23.2468 9.33107C22.7646 8.84905 22.1106 8.57825 21.4286 8.57825H16.8514C17.04 9.11459 17.1429 9.69205 17.1429 10.2918H21.4286C21.6559 10.2918 21.8739 10.382 22.0347 10.5427C22.1954 10.7034 22.2857 10.9213 22.2857 11.1485C22.2857 12.5485 21.7286 13.5869 20.8491 14.2929ZM16.2857 15.4324C16.9677 15.4324 17.6218 15.7032 18.104 16.1852C18.5862 16.6672 18.8571 17.321 18.8571 18.0027C18.8571 19.915 18.0703 21.4468 16.7794 22.4835C15.5091 23.5031 13.8051 24 12 24C10.1949 24 8.49086 23.5031 7.22057 22.4835C5.93143 21.4468 5.14286 19.915 5.14286 18.0027C5.14195 17.6649 5.20785 17.3302 5.33675 17.018C5.46566 16.7057 5.65503 16.422 5.89399 16.1832C6.13295 15.9443 6.41678 15.755 6.72917 15.6262C7.04156 15.4973 7.37635 15.4315 7.71429 15.4324H16.2857ZM16.2857 17.1459H7.71429C7.48696 17.1459 7.26894 17.2362 7.10819 17.3968C6.94745 17.5575 6.85714 17.7754 6.85714 18.0027C6.85714 19.4026 7.41429 20.441 8.29371 21.147C9.19543 21.8701 10.4914 22.2865 12 22.2865C13.5086 22.2865 14.8046 21.8701 15.7063 21.147C16.5857 20.441 17.1429 19.4026 17.1429 18.0027C17.1429 17.7754 17.0526 17.5575 16.8918 17.3968C16.7311 17.2362 16.513 17.1459 16.2857 17.1459Z" fill="black" fillOpacity="1"/>
              </svg>
              {/* <img src={societiesIcon} alt="Societies Icon - Explore societies" /> */}
               {isDesktop && <p className="slide-in">Societies</p>}
            </NavLink>
        </li>
        <li className="nav-list-item">
            <NavLink to={"/notification"}>
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="24" viewBox="0 0 20 24" fill="black">
                <path d="M10.0295 21.4696C7.37188 21.4696 4.71434 21.059 2.19367 20.238C1.23559 19.9162 0.505624 19.2615 0.186263 18.4071C-0.144503 17.5528 -0.0304458 16.6096 0.494218 15.7663L1.80588 13.647C2.07962 13.2032 2.33054 12.3155 2.33054 11.794V8.58735C2.33054 4.45969 5.78648 1.09766 10.0295 1.09766C14.2724 1.09766 17.7283 4.45969 17.7283 8.58735V11.794C17.7283 12.3044 17.9793 13.2032 18.253 13.6581L19.5532 15.7663C20.0437 16.5652 20.1349 17.5306 19.8042 18.4071C19.4734 19.2837 18.7548 19.9495 17.8538 20.238C15.3445 21.059 12.687 21.4696 10.0295 21.4696ZM10.0295 2.76203C6.73316 2.76203 4.0414 5.36955 4.0414 8.58735V11.794C4.0414 12.604 3.69923 13.8024 3.27722 14.5014L1.96556 16.6207C1.71463 17.0313 1.6462 17.464 1.79447 17.8302C1.93134 18.2074 2.27351 18.4959 2.74115 18.6512C7.50875 20.2047 12.5615 20.2047 17.3291 18.6512C17.7397 18.5181 18.0591 18.2185 18.2074 17.8191C18.3556 17.4196 18.3214 16.9869 18.0933 16.6207L16.7816 14.5014C16.3482 13.7802 16.0175 12.5929 16.0175 11.7829V8.58735C16.0175 5.36955 13.3371 2.76203 10.0295 2.76203Z" fill="black" fillOpacity="1"/>
                <path d="M12.1504 3.06245C12.0705 3.06245 11.9907 3.05135 11.9108 3.02916C11.5801 2.9404 11.2607 2.87382 10.9528 2.82944C9.98326 2.70738 9.04799 2.77396 8.16975 3.02916C7.85039 3.12903 7.50825 3.02916 7.29154 2.79615C7.07483 2.56314 7.0064 2.23026 7.13186 1.93068C7.5995 0.765613 8.74004 0 10.0403 0C11.3405 0 12.4811 0.754517 12.9488 1.93068C13.0628 2.23026 13.0058 2.56314 12.7891 2.79615C12.618 2.97368 12.3785 3.06245 12.1504 3.06245Z" fill="black" fillOpacity="1"/>
                <path d="M10.0291 23.9998C8.8999 23.9998 7.80495 23.556 7.00658 22.7793C6.20818 22.0026 5.75195 20.9374 5.75195 19.8389H7.46281C7.46281 20.4935 7.73652 21.1371 8.21556 21.6031C8.6946 22.0691 9.35613 22.3354 10.0291 22.3354C11.4434 22.3354 12.5954 21.2148 12.5954 19.8389H14.3062C14.3062 22.1357 12.3901 23.9998 10.0291 23.9998Z" fill="black" fillOpacity="1"/>
              </svg>

              {/* <img src={notificationIcon} alt="Notification Icon - View notifications" /> */}
              { isDesktop && <p className="slide-in">Notification</p>}
            </NavLink>
        </li>
        <li className="nav-list-item">
            <NavLink to={"/bookmark"}>
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="24" viewBox="0 0 18 24" fill="none">
                <path d="M0.512857 2.66697V2.66667C0.512857 1.45552 1.45346 0.5 2.57143 0.5H15.4286C16.5497 0.5 17.5 1.45885 17.5 2.66667V23.2306L9.20307 19.5431L9 19.4528L8.79693 19.5431L0.500464 23.2304L0.512857 2.66697Z" stroke="black"/>
              </svg>

              {/* <img src={bookmarkIcon} alt="Bookmark Icon - Manage bookmarks" /> */}
              { isDesktop && <p className="slide-in">Bookmarks</p>}
            </NavLink>
        </li>
        {!isMobile && <li className="nav-list-item">
            <NavLink to={`/profile/${currentUser.userName}`}>
              <svg xmlns="http://www.w3.org/2000/svg" width="27" height="28" viewBox="0 0 27 28" fill="none">
                <path d="M13.5 0.801758C15.0913 0.801758 16.6174 1.4339 17.7426 2.55912C18.8679 3.68433 19.5 5.21046 19.5 6.80176C19.5 8.39306 18.8679 9.91918 17.7426 11.0444C16.6174 12.1696 15.0913 12.8018 13.5 12.8018C11.9087 12.8018 10.3826 12.1696 9.25736 11.0444C8.13214 9.91918 7.5 8.39306 7.5 6.80176C7.5 5.21046 8.13214 3.68433 9.25736 2.55912C10.3826 1.4339 11.9087 0.801758 13.5 0.801758ZM13.5 17.6768C17.1383 17.6768 20.3936 18.4151 22.7116 19.5741C25.0743 20.7554 26.25 22.249 26.25 23.6768V26.3018H0.75V23.6768C0.75 22.249 1.92572 20.7554 4.28838 19.5741C6.60638 18.4151 9.86172 17.6768 13.5 17.6768Z" stroke="black" strokeWidth="1.5"/>
              </svg>
              {/* <img src={profileIcon} alt="Profile Icon - Manage bookmarks" /> */}
              {isDesktop &&  <p className="slide-in">Profile</p>}
            </NavLink>
        </li>}
      </ul>

     {!isMobile && <ul className="nav-list">
        <li className="nav-list-item">
                <NavLink to={"/settings"}>
                  <svg xmlns="http://www.w3.org/2000/svg" width="28" height="26" viewBox="0 0 28 26" fill="none">
                    <path d="M21.3846 2.4566L21.385 2.45682C22.2492 2.94149 22.5377 4.01342 22.0488 4.85437C21.36 6.0337 21.2031 7.28119 21.7923 8.28039C22.3785 9.27464 23.5474 9.7569 24.9228 9.7569C25.9333 9.7569 26.7387 10.5688 26.75 11.5271V13.8539C26.75 14.8145 25.9413 15.62 24.9363 15.62C23.5614 15.62 22.3914 16.1021 21.8068 17.0978C21.219 18.0987 21.3815 19.3469 22.0774 20.5255C22.5629 21.3509 22.2772 22.4349 21.412 22.9201L21.4116 22.9204L19.0773 24.2314L19.0772 24.2313L19.0663 24.2377C18.3639 24.6478 17.4397 24.4077 17.0115 23.7054L16.8656 23.4581L16.8654 23.4578C16.1684 22.2774 15.1529 21.5298 13.9949 21.5298C12.8363 21.5298 11.824 22.2782 11.1335 23.4595C11.1333 23.46 11.133 23.4604 11.1327 23.4609L10.9885 23.7054C10.5602 24.4077 9.6361 24.6478 8.93365 24.2377L8.9337 24.2376L8.92274 24.2314L6.58841 22.9204L6.58801 22.9201C5.72411 22.4356 5.43546 21.3643 5.92374 20.5234C6.61865 19.3455 6.78062 18.0981 6.19323 17.0978C5.60862 16.1021 4.43859 15.62 3.06372 15.62C2.05043 15.62 1.25 14.8063 1.25 13.8539V11.5231C1.25 10.5625 2.05875 9.7569 3.06372 9.7569C4.43849 9.7569 5.60811 9.27498 6.19283 8.28154C6.78073 7.2827 6.61889 6.03814 5.92328 4.86597C5.43467 4.02358 5.72606 2.94023 6.58801 2.45682L6.58841 2.4566L8.92274 1.14553L8.92279 1.14562L8.93365 1.13928C9.64216 0.725584 10.5579 0.976288 10.9563 1.66267L10.9563 1.66268L10.959 1.66726L11.1074 1.91887L11.1076 1.9192C11.8046 3.09952 12.8201 3.84719 13.9781 3.84719C15.1368 3.84719 16.1491 3.09871 16.8396 1.91729C16.8398 1.91689 16.84 1.91648 16.8403 1.91608L16.9845 1.67152C17.4128 0.96929 18.3369 0.729121 19.0394 1.13928L19.0393 1.13938L19.0503 1.14553L21.3846 2.4566ZM8.85795 12.6885C8.85795 15.4864 11.177 17.7425 13.9933 17.7425C16.8095 17.7425 19.1286 15.4864 19.1286 12.6885C19.1286 9.89058 16.8095 7.63448 13.9933 7.63448C11.177 7.63448 8.85795 9.89058 8.85795 12.6885Z" stroke="black" strokeWidth="1.5"/>
                  </svg>
                  {/* <img src={settingsIcon} alt="Bookmark Icon - Manage bookmarks" /> */}
                  {isDesktop &&  <p className="slide-in">Settings</p>}
                </NavLink>
            </li>
            <li className="nav-list-item">
                <NavLink>
                  <Logout />
                  {isDesktop &&  <p className="slide-in">Logout</p>}
                </NavLink>
            </li>
      </ul>}
    </nav>

      <div className="app=layout">
        {isMobile && location.pathname === "/" &&
        <center>
          <img style={{
            width: "clamp(4rem, 4vw, 5.3rem)",
            heigh: "clamp(3.9rem, 3.9vw, 5.2rem)",
            marginTop: ".5rem",
          }} src={brandLogo} alt="brand logo" />
        </center>   
        }
        {isMobile && location.pathname !== "/" && <PageHeader />}
        {isMobile ? location.pathname === "/" && <Topbar /> : !isMobile && <Topbar />}
        <Outlet />
      </div>
    </div>
  )
}

export default NavigationMenu
